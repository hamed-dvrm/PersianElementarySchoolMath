<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="author" content="Sobhan_Moradiyan_Daghigh">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./assets/3rd/css/nahbos.css">
    <title>ریاضی سوم دبستان</title>

    <style>
        input[type='number'] {
            -moz-appearance:textfield;
        }

        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
        }
    </style>
</head>

<body style="margin: 0;">
<div>
    <div class="right-border">
        <div class="background-style"></div>

        <div id="title">
            <div class="that-ridiculous-red-parts-in-title"></div>
            <div class="title-style">نمودار دایره ای</div>
        </div>

        <div id="activity_item">
            <img class="activity-image" src="assets/3rd/images/activity.png" alt="activity_image">
            <div class="activity-text">فعّالیت</div>
        </div>

        <div id="Q1_container">
            <div id="Q1" class="text-config questions-text-config" style="padding-top: 6vw; padding-right: 15vw; margin-top: 3vw">1ــ کارهایی که یک دانش آموز از ساعت 6 صبح تا 6 بعدازظهر انجام می دهد، در جدول زیر نشان داده شده است. </div>
            <div id="Q1_table">
                <table class="colored-table">
                    <tr>
                        <td class="colored-td">درس خواندن و انجام دادن تکلیفها در منزل</td>
                        <td class="colored-td">حضور در مدرسه</td>
                        <td class="colored-td">رفت وآمد به مدرسه</td>
                        <td class="colored-td">غذا خوردن، نماز خواندن و استراحت</td>
                        <td class="colored-td">کار</td>
                    </tr>
                    <tr>
                        <td class="colored-td" style="background-color: var(--yellow_level3_border)">3</td>
                        <td class="colored-td" style="background-color: var(--blue_level1)">5</td>
                        <td class="colored-td" style="background-color: var(--red_level1)">2</td>
                        <td class="colored-td" style="background-color: var(--green_level2)">2</td>
                        <td class="colored-td">زمان(ساعت)</td>
                    </tr>
                </table>
            </div>
            <div id="Q1_continue" class="text-config questions-text-config">دایره ی زیر 12 قسمت دارد. کارهای روزانه ی این دانش آموز را با رنگ کردن این قسمت ها نشان دهید.</div>

            <div style="float: left">
                <div id="circle_Q1" class="wrapper" style="float: left; margin-right: 15vw">
                    <div id="Q1_sector1" class="sector" style="transform: rotate(75deg) skew(60deg);" onclick="sector_coloring(id, 'P124-Q1');" onmouseover="hover(id)"></div>
                    <div id="Q1_sector2" class="sector" style="transform: rotate(105deg) skew(60deg);" onclick="sector_coloring(id, 'P124-Q1');" onmouseover="hover(id)"></div>
                    <div id="Q1_sector3" class="sector" style="transform: rotate(135deg) skew(60deg);" onclick="sector_coloring(id, 'P124-Q1');" onmouseover="hover(id)"></div>
                    <div id="Q1_sector4" class="sector" style="transform: rotate(165deg) skew(60deg);" onclick="sector_coloring(id, 'P124-Q1');" onmouseover="hover(id)"></div>
                    <div id="Q1_sector5" class="sector" style="transform: rotate(195deg) skew(60deg);" onclick="sector_coloring(id, 'P124-Q1');" onmouseover="hover(id)"></div>
                    <div id="Q1_sector6" class="sector" style="transform: rotate(225deg) skew(60deg);" onclick="sector_coloring(id, 'P124-Q1');" onmouseover="hover(id)"></div>
                    <div id="Q1_sector7" class="sector" style="transform: rotate(255deg) skew(60deg);" onclick="sector_coloring(id, 'P124-Q1');" onmouseover="hover(id)"></div>
                    <div id="Q1_sector8" class="sector" style="transform: rotate(285deg) skew(60deg);" onclick="sector_coloring(id, 'P124-Q1');" onmouseover="hover(id)"></div>
                    <div id="Q1_sector9" class="sector" style="transform: rotate(315deg) skew(60deg);" onclick="sector_coloring(id, 'P124-Q1');" onmouseover="hover(id)"></div>
                    <div id="Q1_sector10" class="sector" style="transform: rotate(345deg) skew(60deg);" onclick="sector_coloring(id, 'P124-Q1');" onmouseover="hover(id)"></div>
                    <div id="Q1_sector11" class="sector" style="transform: rotate(375deg) skew(60deg);" onclick="sector_coloring(id, 'P124-Q1');" onmouseover="hover(id)"></div>
                    <div id="Q1_sector12" class="sector" style="transform: rotate(405deg) skew(60deg);" onclick="sector_coloring(id, 'P124-Q1');" onmouseover="hover(id)"></div>
                </div>

                <div style="float: left; margin-left: -12vw">
                    <div id="Q1_yellow_color" class="color-picker" style="background-color: var(--yellow_level3_border); margin-top: 2.5vw" onclick="color_picker(id)"></div>
                    <div id="Q1_blue_color" class="color-picker" style="background-color: var(--blue_level1);" onclick="color_picker(id)"></div>
                    <div id="Q1_red_color" class="color-picker" style="background-color: var(--red_level1);" onclick="color_picker(id)"></div>
                    <div id="Q1_green_color" class="color-picker" style="background-color: var(--green_level2);" onclick="color_picker(id)"></div>
                </div>
            </div>

            <div style="float: left">
                <div id="Q1_feedback" class="text-config"> </div>
                <img id="Q1_clock_img" src="assets/3rd/images/nahbos/clock_124.png" alt="clock_Q1" style="width: 10vw; padding-left: 7vw; padding-top: 1vw">
            </div>
        </div>

        <div id="Q2_container" style="clear: both">
            <div id="Q2" class="text-config questions-text-config" style="padding-top: 2vw">2ــ تعداد کتاب های فرید و موضوع آن ها در جدول زیر مشخص شده است.</div>
            <div id="Q2_table">
                <table class="colored-table">
                    <tr>
                        <td class="colored-td">کمک درسی</td>
                        <td class="colored-td">سرگرمی</td>
                        <td class="colored-td">علمی</td>
                        <td class="colored-td">درسی</td>
                        <td class="colored-td">نوع کتاب</td>
                    </tr>
                    <tr>
                        <td class="colored-td" style="background-color: var(--yellow_level3_border)">15</td>
                        <td class="colored-td" style="background-color: var(--red_level1)">25</td>
                        <td class="colored-td" style="background-color: var(--blue_level1)">10</td>
                        <td class="colored-td" style="background-color: var(--green_level2)">10</td>
                        <td class="colored-td">تعداد کتاب</td>
                    </tr>
                </table>
            </div>
            <div id="Q2_continue" class="text-config questions-text-config">ــ هر قسمت از دایره ی روبه رو، نشان دهنده ی 5 کتاب است. با رنگ کردن این نمودار دایره ای، اطلّاعات مربوط به کتاب های فرید را نشان دهید.</div>

            <div style="float: left">
                <div id="circle_Q2" class="wrapper" style="float: left; margin-right: 15vw">
                    <div id="Q2_sector1" class="sector" style="transform: rotate(75deg) skew(60deg);" onclick="sector_coloring(id, 'P124-Q2');" onmouseover="hover(id)"></div>
                    <div id="Q2_sector2" class="sector" style="transform: rotate(105deg) skew(60deg);" onclick="sector_coloring(id, 'P124-Q2');" onmouseover="hover(id)"></div>
                    <div id="Q2_sector3" class="sector" style="transform: rotate(135deg) skew(60deg);" onclick="sector_coloring(id, 'P124-Q2');" onmouseover="hover(id)"></div>
                    <div id="Q2_sector4" class="sector" style="transform: rotate(165deg) skew(60deg);" onclick="sector_coloring(id, 'P124-Q2');" onmouseover="hover(id)"></div>
                    <div id="Q2_sector5" class="sector" style="transform: rotate(195deg) skew(60deg);" onclick="sector_coloring(id, 'P124-Q2');" onmouseover="hover(id)"></div>
                    <div id="Q2_sector6" class="sector" style="transform: rotate(225deg) skew(60deg);" onclick="sector_coloring(id, 'P124-Q2');" onmouseover="hover(id)"></div>
                    <div id="Q2_sector7" class="sector" style="transform: rotate(255deg) skew(60deg);" onclick="sector_coloring(id, 'P124-Q2');" onmouseover="hover(id)"></div>
                    <div id="Q2_sector8" class="sector" style="transform: rotate(285deg) skew(60deg);" onclick="sector_coloring(id, 'P124-Q2');" onmouseover="hover(id)"></div>
                    <div id="Q2_sector9" class="sector" style="transform: rotate(315deg) skew(60deg);" onclick="sector_coloring(id, 'P124-Q2');" onmouseover="hover(id)"></div>
                    <div id="Q2_sector10" class="sector" style="transform: rotate(345deg) skew(60deg);" onclick="sector_coloring(id, 'P124-Q2');" onmouseover="hover(id)"></div>
                    <div id="Q2_sector11" class="sector" style="transform: rotate(375deg) skew(60deg);" onclick="sector_coloring(id, 'P124-Q2');" onmouseover="hover(id)"></div>
                    <div id="Q2_sector12" class="sector" style="transform: rotate(405deg) skew(60deg);" onclick="sector_coloring(id, 'P124-Q2');" onmouseover="hover(id)"></div>
                </div>

                <div style="float: left; margin-left: -12vw">
                    <div id="Q2_yellow_color" class="color-picker" style="background-color: var(--yellow_level3_border); margin-top: 2.5vw" onclick="color_picker(id)"></div>
                    <div id="Q2_blue_color" class="color-picker" style="background-color: var(--blue_level1);" onclick="color_picker(id)"></div>
                    <div id="Q2_red_color" class="color-picker" style="background-color: var(--red_level1);" onclick="color_picker(id)"></div>
                    <div id="Q2_green_color" class="color-picker" style="background-color: var(--green_level2);" onclick="color_picker(id)"></div>
                </div>
            </div>

            <div style="float: left">
                <div id="Q2_feedback" class="text-config"> </div>
                <img id="Q2_book_img" src="assets/3rd/images/nahbos/book_124.png" alt="book_Q1" style="width: 9vw; padding-left: 7vw; padding-top: 1vw">
            </div>
        </div>

        <div class="guess-box-level1" style="clear:both;">
            <div class="guess-box-text-right">حدس بزن</div>
            <div class="text-config" style="padding-top: 5vw; padding-right: 2vw">دو استوانه ی کاغذی درست کنید. مثل شکل زیر، استوانه ها را از محل های مشخص شده برش بزنید. قسمت های بریده شده را روی کاغذ بگذارید و دور آنها خط بکشید. در کدام برش، شکل به دست آمده دایره است؟</div>
            <div class="guess-box-level2">
                <img src="assets/3rd/images/nahbos/left_scissor_124.png" style="width: 19vw;" alt="left_scissor">
                <img src="assets/3rd/images/nahbos/right_scissor_124.png" style="width: 19vw;" alt="right_scissor">
            </div>

            <div style="float: right; margin-top: -18vw; margin-right: 10vw">
                <div style="height: 4vw;">
                    <label class="text-config"><input type="radio" name="guess" value="right" id="radio_right" style="width: 2vw; height: 2vw;" onclick="guess_checker(id)">شکل راست</label>
                </div>
                <div style="height: 4vw;">
                    <label class="text-config"><input type="radio" name="guess" value="left" id="radio_left" style="width: 2vw; height: 2vw;" onclick="guess_checker(id)">شکل چپ</label>
                </div>
            </div>

            <div id="guess_box_feedback" class="text-config" style="margin-right: 5vw; float: right; margin-top: -8vw"></div>
        </div>

        <div class="page-number">124</div>
        <div class="page-no-input">
            <div style="float: left; margin-right: 2vw; margin-top: 1vw">
                <a href="book_3_125.html">
                    <img style="width: 3vw" src="assets/3rd/images/left-arrow.png" alt="next_page" onclick="">
                </a>
            </div>
            <div class="page-number" style="float: left; position: relative; padding: 0.1vw 1vw; right: 0; bottom: 0">
                <input style="width: 5vw; font-size: 1.5vw; background-color: var(--orange_level2); text-align: center; color: white" type="number" name="page_number" id="page_switcher">
            </div>
            <div style="float: left; margin-left: 2vw; margin-top: 1vw">
                <a href="book_3_123.html">
                    <img style="width: 3vw" src="assets/3rd/images/right-arrow.png" alt="next_page">
                </a>
            </div>
        </div>

    </div>
</div>

</body>

<script language="JavaScript">

    function $(id){ return document.getElementById(id);}

    /* --------  The Q1-Q2 page 124  ----------------------------- */

    let color_picker_item = null;
    function color_picker(id) { color_picker_item = $(id);}

    let pre_color = null;
    function hover(id){
        if (color_picker_item != null) {
            $(id).onmouseenter = function () {
                pre_color = $(id).style.backgroundColor;
                $(id).style.backgroundColor = color_picker_item.style.backgroundColor;
            }
            $(id).onmouseout = function () {
                $(id).style.backgroundColor = pre_color;
            }
        }
    }

    let Q1_color_picker_items = ["Q1_yellow_color", "Q1_blue_color", "Q1_red_color", "Q1_green_color"];
    let Q2_color_picker_items = ["Q2_yellow_color", "Q2_red_color", "Q2_blue_color", "Q2_green_color"];

    function sector_coloring(id, question_id) {

        let [colors, Q_feedback] = (function () {
            switch (question_id) {
                case "P124-Q1":
                    return [Q1_color_picker_items, $("Q1_feedback")];

                case "P124-Q2":
                    return [Q2_color_picker_items, $("Q2_feedback")];
            }
        })();

        if (color_picker_item != null){
            switch (color_picker_item.id) {
                case colors[0]:
                    $(id).style.backgroundColor= color_picker_item.style.backgroundColor;
                    pre_color = color_picker_item.style.backgroundColor;
                    break;

                case colors[1]:
                    $(id).style.backgroundColor= color_picker_item.style.backgroundColor;
                    pre_color = color_picker_item.style.backgroundColor;
                    break;

                case colors[2]:
                    $(id).style.backgroundColor= color_picker_item.style.backgroundColor;
                    pre_color = color_picker_item.style.backgroundColor;
                    break;

                case colors[3]:
                    $(id).style.backgroundColor= color_picker_item.style.backgroundColor;
                    pre_color = color_picker_item.style.backgroundColor;
                    break;
                default:
                    Q_feedback.textContent = "ابتدا رنگ موردنظر را انتخاب کن.";
                    Q_feedback.classList.add("shaking-animation");
                    Q_feedback.style.color= getComputedStyle(document.documentElement).getPropertyValue('--red_level2');
                    break;
            }
        }

        else {
            Q_feedback.textContent = "ابتدا رنگ موردنظر را انتخاب کن.";
            Q_feedback.classList.add("shaking-animation");
            Q_feedback.style.color= getComputedStyle(document.documentElement).getPropertyValue('--red_level2');
        }
        check_circle_sectors(question_id);
    }

    let Q1_ans = {"yellow": 3, "blue": 5, "red": 2, "green": 2};
    let Q2_ans = {"yellow": 3, "blue": 2, "red": 5, "green": 2};
    let Q1_sectors_id = ["Q1_sector1", "Q1_sector2", "Q1_sector3", "Q1_sector4", "Q1_sector5", "Q1_sector6", "Q1_sector7", "Q1_sector8", "Q1_sector9", "Q1_sector10", "Q1_sector11", "Q1_sector12"];
    let Q2_sectors_id = ["Q2_sector1", "Q2_sector2", "Q2_sector3", "Q2_sector4", "Q2_sector5", "Q2_sector6", "Q2_sector7", "Q2_sector8", "Q2_sector9", "Q2_sector10", "Q2_sector11", "Q2_sector12"];

    function check_circle_sectors(question_id) {

        let Q1_P124_check_count = {"yellow": 0, "blue": 0, "red": 0, "green": 0};
        let Q2_P124_check_count = {"yellow": 0, "blue": 0, "red": 0, "green": 0};

        let [ans, sectors_id, check_count, Q_feedback, Q_img] = (function () {
            switch (question_id) {
                case "P124-Q1":
                    return [Q1_ans, Q1_sectors_id, Q1_P124_check_count, $("Q1_feedback"), $("Q1_clock_img")];

                case "P124-Q2":
                    return [Q2_ans, Q2_sectors_id, Q2_P124_check_count, $("Q2_feedback"), $("Q2_book_img")];
            }
        })();

        for(const sector of sectors_id) {
            let color = $(sector).style.backgroundColor;

            switch (color.trim()) {
                case "var(--yellow_level3_border)":
                    check_count.yellow += 1;
                    break;

                case "var(--blue_level1)":
                    check_count.blue += 1;
                    break;

                case "var(--red_level1)":
                    check_count.red += 1;
                    break;

                case "var(--green_level2)":
                    check_count.green += 1;
                    break;
            }
        }

        if (JSON.stringify(ans) === JSON.stringify(check_count)){

            Q_feedback.textContent = "آفرین عزیزم. درست حل کردی.";
            Q_feedback.style.color= getComputedStyle(document.documentElement).getPropertyValue('--green_level3');
            Q_img.classList.add("shaking-animation");

        }

        else if (Object.values(check_count).reduce((a, b) => a + b, 0) == Object.values(ans).reduce((a, b) => a + b, 0)){

            Q_feedback.textContent = "دقت کن عزيزم. دوباره تلاش کن.";
            Q_feedback.classList.add("shaking-animation");
            Q_feedback.style.color= getComputedStyle(document.documentElement).getPropertyValue('--red_level2');
        }
    }

    function guess_checker(id) {
        let btn = $(id).value;
        if (btn == "right"){
            $("guess_box_feedback").textContent = "دقت کن عزيزم. دوباره تلاش کن.";
            $("guess_box_feedback").style.color = getComputedStyle(document.documentElement).getPropertyValue('--red_level2');
            $("guess_box_feedback").classList.add("shaking-animation");
        }
        else if (btn == "left"){
            $("guess_box_feedback").textContent = "آفرين عزيزم. درست حدس زدي.";
            $("guess_box_feedback").style.color = getComputedStyle(document.documentElement).getPropertyValue('--green_level3');
            $("guess_box_feedback").classList.add("shaking-animation");
        }
    }
    /* --------  The End of Q1-Q2 page 124  ------------------------------------ */

    $("page_switcher").onkeypress=function(e){

        if(e.which===13){

            let page_no = $("page_switcher").value;

            let tag = document.createElement("a");
            tag.href = 'book_3_' + page_no + '.html';

            tag.id = "switch";
            document.body.appendChild(tag);

            $("switch").click();
        }
    }

</script>

</html>